<!--
 * @Author: [JokerChen]
 * @Date: 2020-01-08 19:06:43
 * @LastEditors: [JokerChen]
 * @LastEditTime: 2020-08-15 11:50:02
 * @Description: 
-->
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>结构型设计模式-适配器模式</title>
		<script src="js/jquery-1.7.2.min.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
	</body>
</html>
<script type="text/javascript">
	// 应用场景:
	// 1 插件的默认数据信息,并能进行变更替换.
	// 2 服务端数据适配 
	// 3 框架的引入 window.A= A = jQuery;
	// 4 参数适配器和数据适配器.

// 	那合适使用适配器模式好呢？如果有以下情况出现时，建议使用：

// 使用一个已经存在的对象，但其方法或属性接口不符合你的要求；
// 你想创建一个可复用的对象，该对象可以与其它不相关的对象或不可见对象（即接口方法或属性不兼容的对象）协同工作；
// 想使用已经存在的对象，但是不能对每一个都进行原型继承以匹配它的接口。对象适配器可以适配它的父对象接口方法或属性。
// 另外，适配器模式和其它几个模式可能容易让人迷惑，这里说一下大概的区别：

// 适配器和桥接模式虽然类似，但桥接的出发点不同，桥接的目的是将接口部分和实现部分分离，
// 从而对他们可以更为容易也相对独立的加以改变。而适配器则意味着改变一个已有对象的接口。
// 装饰者模式增强了其它对象的功能而同时又不改变它的接口，因此它对应程序的透明性比适配器要好，其结果是装饰者支持递归组合，
// 而纯粹使用适配器则是不可能的。
// 代理模式在不改变它的接口的条件下，为另外一个对象定义了一个代理。
// 适配器主要有3个角色组成：
// （1）客户端：调用接口的类
// （2）适配器：用来连接客户端接口和提供服务的接口的类
// （3）适配者：提供服务，但是却与客户端接口需求不兼容服务类。
	$(function(){
		var arrayAdapter={
			name:'测试1',
			title:'设计模式1',
			age:5,
			prize:302
		};
		
		var info= doSomeThing(arrayAdapter);
		console.log(info)
	})
	//适配器模式样例
	function doSomeThing(obj)
	{
		var _adapter={};
		for(var i in obj)
		{
			_adapter[i]=obj[i] || _adapter[i];
		}
		return _adapter;
	}
	//jquery的ajax方法 理想数据是一个一位数组
	function ajaxAdapter(data)
	{
		return [data['key1'],data['key2'],data['key2']]
	}
	var strServerIp="http://192.168.20.13/newdzbp/";
    var strControlNo="02";
	// $.ajax({
	// 	type: "POST",
	// 	url: strServerIp + "ashx/DZBP/SController.ashx",
	// 	contentType: "application/x-www-form-urlencoded; charset=utf-8",
	// 	data: { action: "getfunctioninfo", ControlNo: strControlNo, time: Math.random()},
	// 	dataType: 'json',
	// 	timeout: 1000,
	// 	success: function (data) {
	// 		if(data)
	// 		{
	// 			doSomeThing(ajaxAdapter(data));
	// 		}
	// 	},
	// 	error: function(xhr, type, errorThrown) {
	// 		//AJAX调用失败
	// 		console.log("strServerIp:"+strServerIp);
	// 	}
	// });
</script>

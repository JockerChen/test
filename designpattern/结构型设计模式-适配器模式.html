<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>结构型设计模式-适配器模式</title>
		<script src="js/jquery-1.7.2.min.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
	</body>
</html>
<script type="text/javascript">
	// 应用场景:
	// 1 插件的默认数据信息,并能进行变更替换.
	// 2 服务端数据适配 
	// 3 框架的引入 window.A= A = jQuery;
	// 4 参数适配器和数据适配器.
	$(function(){
		var arrayAdapter={
			name:'测试1',
			title:'设计模式1',
			age:5,
			prize:302
		};
		
		var info= doSomeThing(arrayAdapter);
		console.log(info)
	})
	//适配器模式样例
	function doSomeThing(obj)
	{
		var _adapter={};
		for(var i in obj)
		{
			_adapter[i]=obj[i] || _adapter[i];
		}
		return _adapter;
	}
	//jquery的ajax方法 理想数据是一个一位数组
	function ajaxAdapter(data)
	{
		return [data['key1'],data['key2'],data['key2']]
	}
	var strServerIp="http://192.168.20.13/newdzbp/";
    var strControlNo="02";
	// $.ajax({
	// 	type: "POST",
	// 	url: strServerIp + "ashx/DZBP/SController.ashx",
	// 	contentType: "application/x-www-form-urlencoded; charset=utf-8",
	// 	data: { action: "getfunctioninfo", ControlNo: strControlNo, time: Math.random()},
	// 	dataType: 'json',
	// 	timeout: 1000,
	// 	success: function (data) {
	// 		if(data)
	// 		{
	// 			doSomeThing(ajaxAdapter(data));
	// 		}
	// 	},
	// 	error: function(xhr, type, errorThrown) {
	// 		//AJAX调用失败
	// 		console.log("strServerIp:"+strServerIp);
	// 	}
	// });
</script>

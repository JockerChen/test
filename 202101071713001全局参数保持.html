<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>全局参数保持</title>
  <script src="js/jquery-1.7.2.min.js"></script>
</head>

<body>
  <input type="text" id="allVal" />
  <input type="button" value="0" />
  <input type="button" value="1" />
  <input type="button" value="2" />
  <input type="button" value="3" />
  <input type="button" value="4" />
  <input type="button" value="5" />
  <input type="button" value="7" />
  <input type="button" value="8" />
  <input type="button" value="9" />
  <input type="button" value="enter" />
  <input type="button" value="clear" />
  <input type="button" value="find" />
  <input type="button" value="+" />
  <input type="button" value="-" />
  <input type="button" value="." />

</body>

</html>
<script>
  //参与计算数据部分
  window['hardKeyboard'] = 0;
  //消费查询界面跳转
  function executeEnter() {
    console.log("executeEnter");
  }
  //消费查询界面跳转
  function executeFind() {
    console.log("executeFind");
    //往消费查询界面跳转
  }

  //进行系统设置弹窗
  function executeMenu() {
    console.log("executeMenu");
    //往消费查询界面跳转
    // androidClient.showSystemManagerDialog(androidClient.getLanguage("系统菜单"),"00","systemmenu");
  }
  //进行系统设置弹窗
  function executeEsc() {
    console.log("executeEsc");
    //往消费查询界面跳转
    // androidClient.showSystemManagerDialog(androidClient.getLanguage("系统菜单"),"00","systemmenu");
  }
  //进行系统设置弹窗
  function executeBack() {
    console.log("executeBack");
    //往消费查询界面跳转
    // androidClient.showSystemManagerDialog(androidClient.getLanguage("系统菜单"),"00","systemmenu");
  }
  var keyBtnArrObject = [
    { "keyCode": "enter", "keyFun": "executeEnter" },
    { "keyCode": "menu", "keyFun": "executeMenu" },
    { "keyCode": "S", "keyFun": "executeMenu" },
    { "keyCode": "find", "keyFun": "executeFind" },
    { "keyCode": "F", "keyFun": "executeFind" },
    { "keyCode": "esc", "keyFun": "executeEsc" },
    { "keyCode": "A", "keyFun": "executeEsc" },
    { "keyCode": "back", "keyFun": "executeBack" }
  ];

  //处理硬键盘点击操作
  function operatorKeyPress(key, keyObject,Keyboard, fn) {
    var fillerKeyBtn = keyObject.filter(function (e) {
      return e.keyCode == key;
    });
    //确认当前点击是否
    if (fillerKeyBtn.length > 0) {
      eval(fillerKeyBtn[0].keyFun + "();");
    } else {
      if (fn) fn.call(this, Keyboard + key);
    }
  }

  $(function () {
    $('input[type="button"]').on('click', function () {
      console.log('1111-----:'+hardKeyboard);
      //进行过滤
      operatorKeyPress($(this).val(), keyBtnArrObject,hardKeyboard, function (ret) {
        hardKeyboard=ret;
        console.log(hardKeyboard=hardKeyboard);
      });
    })
  })

</script>